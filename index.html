

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-160751137-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Panda Robot &mdash; Panda Robot 0.7.1-beta documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  
  
  
    <link rel="canonical" href="justagist.github.io/panda_robot/index.html"/>
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Python API Documentation" href="DOC.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: black" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> Panda Robot
          

          
          </a>

          
            
            
              <div class="version">
                0.7.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Panda Robot  </a></li>
<li class="toctree-l1"><a class="reference internal" href="DOC.html">Python API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="DOC.html#pandaarm">PandaArm</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Panda Robot</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Panda Robot  </li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="panda-robot-python-2-7-3-6-ros-version">
<h1>Panda Robot <a class="reference external" href="https://www.python.org/downloads/release/python-360/"><img alt="Python 2.7, 3.6+" src="https://img.shields.io/badge/python-2.7,%203.6+-blue.svg?logo=python" /></a> <a class="reference external" href="https://ros.org/"><img alt="ROS Version" src="https://img.shields.io/badge/ROS-Melodic,%20Noetic-brightgreen.svg?logo=ros" /></a><a class="headerlink" href="#panda-robot-python-2-7-3-6-ros-version" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://pypi.org/project/panda-robot/"><img alt="PyPI" src="https://img.shields.io/pypi/v/panda-robot?color=blue" /></a> <a class="reference external" href="https://www.codacy.com/manual/justagist/panda_robot?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=justagist/panda_robot&amp;utm_campaign=Badge_Grade"><img alt="Codacy Badge" src="https://api.codacy.com/project/badge/Grade/104807d6e9d74377ac40c827d9d261e3" /></a></p>
<p>A Python interface package built over the <a class="reference external" href="https://github.com/justagist/franka_ros_interface">Franka ROS Interface</a> package for controlling and handling the Franka Emika Panda robot. Also works directly with <a class="reference external" href="https://github.com/justagist/panda_simulator">Panda Simulator</a>.</p>
<p>The package provides an extensive and unified <a class="reference external" href="https://justagist.github.io/panda_robot/DOC">API</a> for controlling and
managing the Franka Emika Robot (and gripper) using pre-defined
low-level controllers (position, velocity, torque, joint impedance),
MoveIt planners, and JointTrajectory action service.</p>
<p><em>NOTE: This version requires</em> <a class="reference external" href="https://github.com/justagist/franka_ros_interface">Franka ROS Interface
v0.7.1</a> <em>(‘master’/‘v0.7.1-dev’ branch) to be installed. For usage
with older versions, use Panda Robot branch</em> <a class="reference external" href="https://github.com/justagist/panda_robot/tree/v0.6.0">v0.6.0</a> <em>from Github.</em></p>
<p><strong>Features</strong></p>
<ul class="simple">
<li>Provides simple-intuitive interface classes with methods to directly and easily control the robot using low-level controllers, MoveIt planners, or Trajectory action client.</li>
<li>Get real-time robot state, joint state, controller state, kinematics, dynamics, etc.</li>
<li>Provides Kinematics computation (using <a class="reference external" href="http://wiki.ros.org/kdl">kdl</a>).</li>
<li>Integrated with gripper control.</li>
<li>Manage frames transformation and controller switching using simple utility functions</li>
<li>Works directly on simulated robot when using <a class="reference external" href="https://github.com/justagist/panda_simulator">Panda Simulator</a>
providing direct sim-to-real and real-to-sim code transfer.</li>
</ul>
<a class="reference external image-reference" href="https://youtu.be/4bEVysUIvOY"><img alt="https://raw.githubusercontent.com/justagist/franka_ros_interface/master/assets/panda_robot_demo.gif" src="https://raw.githubusercontent.com/justagist/franka_ros_interface/master/assets/panda_robot_demo.gif" /></a>
<p>Go to <a class="reference external" href="https://github.com/justagist/panda_robot">Project Source Code</a>.</p>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p><strong>NOTE:</strong> This branch should work with ROS Melodic and ROS Noetic.
Tested on:</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">ROS Version</th>
<th class="head">Required Python Version</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Melodic</td>
<td>2.7+</td>
</tr>
<tr class="row-odd"><td>Noetic</td>
<td>3.6+</td>
</tr>
</tbody>
</table>
<p><strong>The following dependencies have to be met before installing
PandaRobot</strong>:</p>
<ul class="simple">
<li>Requires ROS Melodic or Noetic (preferably the <code class="docutils literal notranslate"><span class="pre">desktop-full</span></code>
version to cover all dependencies such as PyKDL and MoveIt)</li>
<li><a class="reference external" href="https://github.com/justagist/franka_ros_interface">Franka ROS Interface</a> package. <em>This package should be installed
from source (v0.7.1 or master branch) following all instructions in
the</em><a class="reference external" href="https://github.com/justagist/franka_ros_interface#installation">Installation</a><em>section. Installing this package correctly
would also resolve all the other dependencies for PandaRobot.</em></li>
</ul>
<p>Once the dependencies are installed, the package can be installed either
from pypi, or by building from source. Note that the installation may be
successful even if the above dependencies are not met, but the package
cannot be used until the dependencies are installed.</p>
<div class="section" id="install-with-pip">
<h2>Install with pip<a class="headerlink" href="#install-with-pip" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://pypi.org/project/panda-robot/"><img alt="PyPI" src="https://img.shields.io/pypi/v/panda-robot?color=blue" /></a></p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">panda</span><span class="o">-</span><span class="n">robot</span>
</pre></div>
</div>
<p><strong>NOTE: This will not check for the required ROS dependencies. They have
to be installed as described in the previous section.</strong></p>
</div>
<div class="section" id="build-from-source">
<h2>Build from source<a class="headerlink" href="#build-from-source" title="Permalink to this headline">¶</a></h2>
<p>If you want to install the package from source, you can either clone
this repository and run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code>, or build it as a
catkin package in your ROS workspace. To build as catkin package:</p>
<ul class="simple">
<li>Clone this repo to <code class="docutils literal notranslate"><span class="pre">src</span></code> folder of your catkin workspace.</li>
<li>In catkin workspace root, run:</li>
</ul>
<div class="code sh highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">catkin</span> <span class="n">build</span>
<span class="n">source</span> <span class="n">devel</span><span class="o">/</span><span class="n">setup</span><span class="o">.</span><span class="n">bash</span>
</pre></div>
</div>
<p><em>Note: This package is written to be compatible with both Python 2 and
3, so make sure you have the Python</em> <code class="docutils literal notranslate"><span class="pre">future</span></code> <em>module installed</em>
(<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">future</span></code>).</p>
</div>
</div>
<div class="section" id="basic-usage">
<h1>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h1>
<p><strong>Note: If using with a real physical Franka Emika Panda robot, the franka_ros_interface ‘driver’ should be running in the ‘master’ environment in one terminal (See</strong> <a class="reference external" href="https://github.com/justagist/franka_ros_interface#usage">Franka ROS Interface instructions</a> <strong>for details). Then, any code which uses PandaRobot or Franka ROS Interface should be run in ‘master’ or ‘remote’ environment (as appropriate). When using with</strong> <a class="reference external" href="https://github.com/justagist/panda_simulator">Panda Simulator</a> <strong>, this package can be used directly without the need for any specific environment as long as this package, the simulator package, and Franka ROS Interface packages are in the same ROS workspace, and correctly sourced.</strong></p>
<p>Basic usage of PandaRobot API is shown below. See <a class="reference external" href="https://github.com/justagist/panda_robot/tree/master/scripts">scripts</a> folder to see usage of some of the available methods, and example for real-time low-level control of the robot.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">rospy</span>
<span class="kn">from</span> <span class="nn">panda_robot</span> <span class="kn">import</span> <span class="n">PandaArm</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">rospy</span><span class="o">.</span><span class="n">init_node</span><span class="p">(</span><span class="s2">&quot;panda_demo&quot;</span><span class="p">)</span> <span class="c1"># initialise ros node</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">PandaArm</span><span class="p">()</span> <span class="c1"># create PandaArm instance</span>

    <span class="n">r</span><span class="o">.</span><span class="n">move_to_neutral</span><span class="p">()</span> <span class="c1"># moves robot to neutral pose; uses moveit if available, else JointTrajectory action client</span>

    <span class="n">pos</span><span class="p">,</span><span class="n">ori</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">ee_pose</span><span class="p">()</span> <span class="c1"># get current end-effector pose (3d position and orientation quaternion of end-effector frame in base frame)</span>

    <span class="n">r</span><span class="o">.</span><span class="n">get_gripper</span><span class="p">()</span><span class="o">.</span><span class="n">home_joints</span><span class="p">()</span> <span class="c1"># homes gripper joints</span>
    <span class="n">r</span><span class="o">.</span><span class="n">get_gripper</span><span class="p">()</span><span class="o">.</span><span class="n">open</span><span class="p">()</span> <span class="c1"># open gripper</span>

    <span class="n">r</span><span class="o">.</span><span class="n">move_to_joint_position</span><span class="p">([</span><span class="o">-</span><span class="mf">8.48556818e-02</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.88127666e-02</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.59622769e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.57569726e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.82374882e-04</span><span class="p">,</span>  <span class="mf">2.15975946e+00</span><span class="p">,</span>  <span class="mf">4.36766917e-01</span><span class="p">])</span> <span class="c1"># move robot to the specified pose</span>

    <span class="n">raw_input</span><span class="p">(</span><span class="s2">&quot;Hit enter to continue&quot;</span><span class="p">)</span> <span class="c1"># hit enter to continue</span>

    <span class="n">r</span><span class="o">.</span><span class="n">move_to_cartesian_pose</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="n">ori</span><span class="p">)</span> <span class="c1"># move the robot end-effector to pose specified by &#39;pos&#39;,&#39;ori&#39;</span>
</pre></div>
</div>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
<p>Go to <a class="reference external" href="https://github.com/justagist/panda_robot">Project Source Code</a>.</p>
<p><strong>LICENSE:</strong></p>
<p><a class="reference external" href="https://opensource.org/licenses/Apache-2.0"><img alt="License" src="https://img.shields.io/badge/License-Apache2.0-blue.svg" /></a></p>
<p>Copyright (c) 2019-2021, Saif Sidhik</p>
<p>If you use this software for research, please consider citing Franka ROS Interface using <a class="reference external" href="https://zenodo.org/badge/latestdoi/199485892"><img alt="doi" src="https://zenodo.org/badge/199485892.svg" /></a>.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="DOC.html" class="btn btn-neutral float-right" title="Python API Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019-2021, Saif Sidhik

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 
<div class="extra-footer">
<a href="https://saifsidhik.page">
    <img src="https://www.saifsidhik.page/images/logo_full_banner_transparent.png"></img>
</a>    
</div>


</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-160751137-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>